Version 4
SHEET 1 1456 932
WIRE 496 -1168 288 -1168
WIRE 672 -1168 592 -1168
WIRE 816 -1168 752 -1168
WIRE 288 -1008 288 -1168
WIRE 496 -1008 288 -1008
WIRE 672 -1008 592 -1008
WIRE 816 -1008 816 -1168
WIRE 816 -1008 752 -1008
WIRE 544 -944 544 -1104
WIRE 288 -848 288 -1008
WIRE 496 -848 288 -848
WIRE 672 -848 592 -848
WIRE 816 -848 816 -1008
WIRE 816 -848 752 -848
WIRE 544 -784 544 -944
WIRE 288 -688 288 -848
WIRE 496 -688 288 -688
WIRE 672 -688 592 -688
WIRE 816 -688 816 -848
WIRE 816 -688 752 -688
WIRE 544 -624 544 -784
WIRE 288 -432 288 -688
WIRE 288 -432 192 -432
WIRE 400 -432 288 -432
WIRE 544 -432 544 -624
WIRE 544 -432 496 -432
WIRE 608 -432 544 -432
WIRE 752 -432 688 -432
WIRE 816 -432 816 -688
WIRE 816 -432 752 -432
WIRE 880 -432 816 -432
WIRE 1008 -432 880 -432
WIRE 1120 -432 1008 -432
WIRE 1168 -432 1120 -432
WIRE 288 -352 288 -432
WIRE 416 -352 416 -384
WIRE 880 -352 880 -432
WIRE 544 -320 544 -432
WIRE 608 -320 544 -320
WIRE 752 -320 752 -432
WIRE 752 -320 672 -320
WIRE 880 -240 880 -272
WIRE 288 -192 288 -272
WIRE 416 -192 416 -272
WIRE 416 -192 288 -192
WIRE 880 -176 880 -240
WIRE -752 -48 -752 -96
WIRE -592 -48 -592 -112
WIRE 1008 -32 1008 -432
WIRE 96 -16 -112 -16
WIRE 880 -16 880 -96
WIRE 880 -16 96 -16
WIRE 96 32 96 -16
WIRE 1168 80 1168 -432
WIRE 1008 96 1008 48
WIRE -752 112 -752 32
WIRE -592 112 -592 32
WIRE 880 112 880 -16
WIRE 416 128 416 -192
WIRE 0 144 0 96
WIRE -112 160 -112 -16
WIRE -32 160 -112 160
WIRE 96 176 96 96
WIRE 96 176 32 176
WIRE 144 176 96 176
WIRE 288 176 224 176
WIRE 352 176 288 176
WIRE -32 192 -480 192
WIRE -480 240 -480 192
WIRE 0 240 0 208
WIRE 416 320 416 224
WIRE 0 432 0 384
WIRE -32 448 -80 448
WIRE 416 448 416 400
WIRE 144 464 32 464
WIRE 288 464 288 176
WIRE 288 464 208 464
WIRE -32 480 -256 480
WIRE -480 512 -480 320
WIRE -256 512 -256 480
WIRE 0 528 0 496
WIRE -80 560 -80 448
WIRE 416 560 -80 560
WIRE 512 560 416 560
WIRE 880 560 880 192
WIRE 880 560 512 560
WIRE 1008 560 1008 160
WIRE 1008 560 880 560
WIRE 1168 560 1168 160
WIRE 1168 560 1008 560
WIRE 416 656 416 560
WIRE 512 656 512 560
WIRE -256 752 -256 592
WIRE 416 768 416 736
WIRE 464 768 416 768
WIRE 512 768 512 720
WIRE 512 768 464 768
WIRE 464 832 464 768
FLAG -752 112 0
FLAG 0 96 +15V
FLAG -752 -96 +15V
FLAG 192 -432 VIN
FLAG 1120 -432 v_out+
FLAG 0 384 +15V
FLAG -256 752 0
FLAG 464 832 0
FLAG -480 512 v_out-
FLAG 1168 560 v_out-
FLAG 0 240 0
FLAG 0 528 0
FLAG 416 448 0
FLAG -592 112 0
FLAG -592 -112 VIN
FLAG 880 -240 v_+
SYMBOL voltage -752 -64 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 15
SYMBOL voltage -480 224 R0
WINDOW 123 24 124 Left 2
WINDOW 39 0 0 Left 0
WINDOW 0 27 38 Left 2
WINDOW 3 31 80 Left 2
SYMATTR InstName V_set
SYMATTR Value 3
SYMBOL res 864 -192 R0
SYMATTR InstName R1
SYMATTR Value 47k
SYMBOL res 864 96 R0
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL cap 992 96 R0
SYMATTR InstName C1
SYMATTR Value 10µ
SYMBOL res 1152 64 R0
SYMATTR InstName R3
SYMATTR Value 100
SYMBOL npn 352 128 R0
SYMATTR InstName Q1
SYMATTR Value BC846B
SYMBOL res 400 304 R0
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL res 272 -368 R0
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL pmos 496 -384 M270
SYMATTR InstName M1
SYMATTR Value IRF9640
SYMBOL res 400 -368 R0
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL res 704 -448 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 6.8
SYMBOL res 240 160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 5k6
SYMBOL cap 80 32 R0
SYMATTR InstName C2
SYMATTR Value 1n
SYMBOL cap 672 -336 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 100n
SYMBOL npn 496 -624 R270
SYMATTR InstName Q2
SYMATTR Value 2N3055
SYMBOL npn 496 -784 R270
SYMATTR InstName Q3
SYMATTR Value 2N3055
SYMBOL npn 496 -944 R270
SYMATTR InstName Q4
SYMATTR Value 2N3055
SYMBOL npn 496 -1104 R270
SYMATTR InstName Q5
SYMATTR Value 2N3055
SYMBOL res 768 -704 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 0.1
SYMBOL res 768 -864 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 0.1
SYMBOL res 768 -1024 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value 0.1
SYMBOL res 768 -1184 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 0.1
SYMBOL schottky 208 448 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D1
SYMATTR Value 1N5819
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res 400 640 R0
SYMATTR InstName R13
SYMATTR Value 0.1
SYMBOL cap 496 656 R0
SYMATTR InstName C4
SYMATTR Value 100n
SYMBOL voltage -256 496 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName I_set
SYMATTR Value 1
SYMBOL voltage 880 -256 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 24 68 Left 2
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 0.1
SYMATTR Value2 AC 0.1
SYMBOL lm358 0 112 R0
SYMATTR InstName U1
SYMBOL lm358 0 400 R0
SYMATTR InstName U2
SYMBOL voltage -592 -64 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 30
SYMBOL res 992 -48 R0
SYMATTR InstName R14
SYMATTR Value 1
TEXT -832 416 Left 2 !.ac dec 100 10 10000000
TEXT 944 -504 Left 2 ;(V(v_out+)-V(v_out-))/(V(v_out+)-V(v_+))
